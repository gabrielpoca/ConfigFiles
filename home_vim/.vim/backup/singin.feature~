Feature: Signin

	I should be able to sign in with email/password combination
	or with a provider account.

	Background:
		Given I am not authenticated
		And I am on the 'Sign In' page
		And the following users exist in the database:
			| email             | password | provider |
			| test@u-play.com   | test     | u-play   |
			| test@facebook.com | test     | facebook |
			| test@twitter.com  | test     | twitter  |


	Scenario: Sign in with email and password

		I should be able to sing in with username and password.

		When I fill in 'user_email' with 'test@u-play.com'
		And I fill in 'user_password' with 'test'
		And I click on 'Sign In'
		Then I should see 'Successfully Signed In'


	Scenario: Sign in with wrong password

		I should be notice if I sign in with a wrong password.

		When I fill in 'user_email' with 'test@u-play.com'
		And I fill in 'user_password' with 'wrong'
		And I click on 'signin'
		Then I should see 'Wrong email/password combination'

	Scenario: Sign in with wrong email

		I should be notice if I sign in with a wrong password.

		When I fill in 'user_email' with 'wrong'
		And I fill in 'user_password' with 'test'
		And I click on 'Sign In'
		Then I should see 'Wrong email/password combination'


	Scenario Outline: Sign in with a provider account

		I should be able to sign in with a provider account.

		When I click on 'Sign In with <provider>'
		Then I should see 'Successfully Signed In'
		Examples:
			| provider  |
			| Facebook  |
			| Twitter   |


	# TODO Ã© preciso pensar melhor este
	Scenario: First time sign in with a provider account

		A user should be able to choose is profile type in
		his first sign in with provider.
