Feature: Manage users authentication

	In order to interact with the platform users should
	be able to sign in, out and up.

	Scenario Outline: Creating a new account
		Given I am not authenticated
		When I go to register
		And I fill in "user_email" with "<email>"
		And I fill in "user_password" with "<password>"
		And I fill in "user_password_confirmation" with "<password>"
		And I press "Sign up"
		Then I should see "logged in as <email>"

		Examples:
			| email           | password   |
			| test@gmail.com  | password   |
			| me@u-play.com   | 1234567    |

	Scenario Outline: Signing in with email and password
		Given I am not authenticated
		And Exists an account with email "<email>" and password "<password>"
		When I go to "/users/sign_in"
		And I fill in "user_email" with "<email>"
		And I fill in "user_password" with "<password>"
		And I press "Sign in"
		Then I should see "logged in as <email>"

		Examples:
			| email           | password   |
			| test@gmail.com  | password   |
			| me@u-play.com   | 1234567    |

	Scenario Outline: Signing in with provider
		Given I am no authenticated
		When I go to "/users/auth/<provider>"
		Then I should see "logged in"

		Examples:
			| provider	|
			| facebook  |
			| twitter   |

	Scenario: Signing out
		Given I am authenticated
		# devise sign_out should be changed to get instead of delete
		When I go to "/users/sign_out"
		Then I should see "loged out"

