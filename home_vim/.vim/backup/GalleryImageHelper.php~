<?php

   /** create a gallery thumb image. */

   App::uses('AppHelper', 'View/Helper');

   class GalleryImageHelper extends AppHelper {

	  var $helpers = array('Html');
	  /* create the photo in thumb. */
	  function create($id, $picture, $likecount, $hr, $liked) {
		 if($likecount == null) $likecount = 0;
		 $url = $this->Html->url(array('controller'=>'photos', 'action'=>'view', $id));

		 $you = "<span id='like-$id' class='small like'><a href='javascript:void(0)' onClick='submitLike($id);'>hot</a></span>";
		 if($liked > 0) {
			$you = "<span id='like-$id' class='small liked'>hot</span>";
		 }
		 return "
		 <div class='grid-item-photo'>
			<div class='gl-img-border'>
			   <div class='gl-img'>
				  <a class='preview' href='$url'><img alt='gallery thumbnail' src='$picture' /></a>
			   </div>
			   <div class='clear'></div>
			   <div class='gl-desc'>
				  <span class='left small'> 
					 <span id='count-$id'>$likecount</span> $you</span>
				  <span class='right small'>$hr hr</span>
			   </div>
			   <div class='clear'></div>
		 </div></div>";
	  }
	  /* create buttons for the thumb. */
	  function buttons($photo_id = NULL, $options = NULL) {
		 //$report = "<a href='javascript:void(0)' onClick='submitReport($photo_id);'><li id='report'>".$this->Html->image('report.png')."</li></a>";
		 $report = "<a href='javascript:void(0)' onClick='submitReport($photo_id);'><li id='report'>!</li></a>";
		 //$delete = "<a href='".$this->Html->url(array('controller' => 'photos', 'action' => 'delete', $photo_id))."'><li id='delete'>".$this->Html->image('remove.png')."</li></a>";
		 $delete = "<a href='".$this->Html->url(array('controller' => 'photos', 'action' => 'delete', $photo_id))."'><li id='delete'>x</li></a>";
		 $result = "";
		 foreach($options as $opt) {
			if($opt == "report") {
			   $result = $result.$report;
			}
			else if($opt == "delete") {
			   $result = $result.$delete;
			}
		 }
		 return '<div class="grid-item-buttons"><ul>'.$result.'</ul></div>';
	  }

   }

?>
