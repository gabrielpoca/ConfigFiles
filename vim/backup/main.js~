var inspiration = '#inspiration';
var _images;
var _images_width = 0;
var _images_height = 0;

/*
function startImage(img) {
	_images = img;
	_images_width = parseInt($('#inspiration').css('width'));
	_images_height = parseInt($('#inspiration').height());
	replaceImage(0);
}

function replaceImage(i) {
	var curr = i;
	var curr_img = _images[i];
	var found = 0;

	$(inspiration).find('a').remove();
	$(inspiration).append('<a href="#"><img src="'+_images[i]+'" /></a>');

	while(found < 20) {
		var new_img = new Image();
		var new_height;
		new_img.src = _images[curr];
		new_height = (_images_width * new_img.width) / new_img.height;
		if(new_img.height + $(inspiration).find('img').height() < _images_height && i < curr) {
			$(inspiration).append('<a href="#"><img src="'+_images[curr]+'" /></a>');
			found = 20;
		}
		found++; 
		curr++;
	}

	if(i < _images.length - 1) { i++; } 
	else { i = 0; }

	setTimeout("replaceImage("+i+")", 5000);
}
*/

// set visible elements  heights
function setHeights() {
	var header_height = $('#header').height();
	var footer_height = $('#footer').height();
	var content_height = $(document).height() - header_height - footer_height;

	$('#content').height(content_height);

	$('#editor').height(content_height - 10);
	$('#inspiration').height(content_height - 10);

	$('#editor textarea').height($('#editor').height()-4);
}


$(document).ready(function() {
	var textarea = 'textarea#text';

	setHeights();

	$(textarea).focus(function() {
		$(this).animate({borderColor: '#FFFFFF'});
	});
	$(textarea).focusout(function() {
		$(this).animate({borderColor: '#F2F2F2'});
	});

	/*$.getJSON('http://api.flickr.com/services/feeds/photoset.gne?set=72157629060726227&nsid=69903230@N08&lang=pt-br&format=json&jsoncallback=?',function(data) {
		var images = new Array();
		// push every image to array
		$.each(data.items, function(i, item) {
			images.push(item.media.m.replace("_m.jpg",".jpg"));
		});
		// start image cycles
		startImage(images);
	});*/
});

